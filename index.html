<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet"href="./res/style.css">
</head>
<body>
<div class="section sectionDisappearing firstSection">
  <div class="section1logo">
    <p>POLINETWORK'S</p>
    <p>GUIDE to POLINETWORK</p>
  </div>
  <div class="section1motto">
    <div class="mottoContainer">
      <div class="mottoBiContainer">
      <div class="motto1 mottoText">Il</div>
      <div class="motto2 mottoText">Network</div>
      </div>
      <div class="mottoBiContainer">
      <div class="motto3 mottoText">degli</div>
      <div class="motto4 mottoText">studenti</div>
      </div>
      <div class="mottoBiContainer">
      <div class="motto5 mottoText">del</div>
      <div class="motto6 mottoText">Politecnico</div>
      </div>
    </div>
  </div>
  <div class="section1animation">
    <div class="ball drop ballFall"> <img src="./res/images/polinetwork.png" alt="PoliNetwork"> </div>
    <div><div class="firstLine"></div></div>
  </div>
</div>
<div class="section secondSection">
  <div class="scene">
    <div class="prism">
      <div class="prism__face prism__face--1">face--1</div>
      <div class="prism__face prism__face--2">face--2</div>
      <div class="prism__face prism__face--3">face--3</div>
      <div class="prism__face prism__face--4">face--4</div>
      <div class="prism__face prism__face--5">face--5</div>
    </div>
  </div>
</div>
<div class="sectionRotation sectionNone" id="sectionRotation"></div>
<div class="section sectionDisappearing ThirdSection">
</div>
</body>
</html>
<script>

let sectionDisappearing = document.getElementsByClassName("sectionDisappearing");

let status = 0;

function showSections(){
  for (var i = 0; i < sectionDisappearing.length; i++) {
    sectionDisappearing[i].classList.remove("sectionNone");
    document.getElementById("sectionRotation").classList.add("sectionNone");
  }
}
function hideSections(){
  for (var i = 0; i < sectionDisappearing.length; i++) {
    sectionDisappearing[i].classList.add("sectionNone");
    document.getElementById("sectionRotation").classList.remove("sectionNone");
  }
}

window.onscroll = function() {
  if(status == 0){
    if(document.documentElement.scrollTop >= vh(100)){
      status = 1;
      hideSections();
      document.documentElement.scrollTop = 1;
    }
  }
  if(status == 1){
    document.documentElement.style.setProperty('--rotation', document.documentElement.scrollTop/6 + "deg");
    if(document.documentElement.scrollTop >= 1728){
      status = 2;
      showSections();
    }
    if(document.documentElement.scrollTop == 0){
      status = 0;
      showSections();
      document.documentElement.scrollTop = vh(100) - 1;
    }
  }
  if(status == 2){
    if(document.documentElement.scrollTop <= vh(100)){
      status = 0;
    }
  }
  scroll()
};

function vh(v) {
  var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
  return (v * h) / 100;
}
</script>
